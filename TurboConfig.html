<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nitroxyde - TurboConfig</title>
    <link rel="icon" href="/logo.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* --- THÈME DE BASE NITROXYDE --- */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        :root { --nitro-pink: #ff006e; --nitro-purple: #8338ec; --nitro-blue: #3a86ff; --nitro-cyan: #06ffa5; --nitro-glass-bg: rgba(255, 255, 255, 0.05); --nitro-border-color: rgba(255, 255, 255, 0.1); --nitro-text-muted: #b3b3b3; --nitro-error: #ff4757; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #0a0a0a; color: #ffffff; overflow-x: hidden; line-height: 1.6; }
        .bg-animation { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; overflow: hidden; }
        .bg-animation::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at 20% 80%, var(--nitro-pink) 0%, transparent 40%), radial-gradient(circle at 80% 20%, var(--nitro-purple) 0%, transparent 40%), radial-gradient(circle at 50% 50%, var(--nitro-blue) 0%, transparent 40%); animation: gradientPulse 12s ease-in-out infinite; opacity: 0.3; }
        @keyframes gradientPulse { 0%, 100% { transform: scale(1); opacity: 0.3; } 50% { transform: scale(1.1); opacity: 0.5; } }
        .particles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; }
        .particle { position: absolute; width: 2px; height: 2px; background: #ffffff; border-radius: 50%; animation: float 8s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0); opacity: 0; } 50% { transform: translateY(-150px); opacity: 1; } }
        header { position: fixed; top: 0; left: 0; width: 100%; padding: 20px 0; backdrop-filter: blur(10px); background: rgba(10, 10, 10, 0.8); z-index: 1000; border-bottom: 1px solid var(--nitro-border-color); }
        .header-content { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; }
        .logo { font-size: 24px; font-weight: 800; background: linear-gradient(45deg, var(--nitro-pink), var(--nitro-purple), var(--nitro-blue)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-transform: uppercase; letter-spacing: 2px; }
        .nav-links { display: flex; gap: 30px; }
        .nav-links a { color: #ffffff; text-decoration: none; font-weight: 500; transition: all 0.3s ease; position: relative; }
        .nav-links a.active { color: #ffffff; }
        .nav-links a::after { content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 2px; background: linear-gradient(45deg, var(--nitro-pink), var(--nitro-purple)); transition: width 0.3s ease; }
        .nav-links a:hover::after, .nav-links a.active::after { width: 100%; }
        main { padding-top: 120px; position: relative; z-index: 10; padding-bottom: 50px; }
        footer { background: rgba(255, 255, 255, 0.02); padding: 50px 0; text-align: center; border-top: 1px solid var(--nitro-border-color); }
        .footer-content { max-width: 1200px; margin: 0 auto; padding: 0 20px; }

        /* --- STYLES SPÉCIFIQUES AU CONFIGURATEUR --- */
        .presentation { text-align: center; margin-bottom: 40px; padding: 0 20px; }
        .presentation h2 { font-family: 'Orbitron', sans-serif; font-size: 2.5rem; font-weight: 700; margin-bottom: 15px; color: #fff; }
        .presentation p { font-size: 1.1rem; color: var(--nitro-text-muted); max-width: 700px; margin: 0 auto; }
        
        .configurator-section, .config-summary, .compatibility-check-section { 
            margin-bottom: 35px; 
            padding: 25px 30px; 
            background: var(--nitro-glass-bg); 
            border: 1px solid var(--nitro-border-color); 
            border-radius: 15px; 
            box-shadow: 0 8px 25px rgba(0,0,0, 0.2); 
            backdrop-filter: blur(10px); 
            width: 100%; 
            max-width: 1100px; 
            margin-left: auto; 
            margin-right: auto;
            position: relative; /* <-- CORRECTION CSS IMPORTANTE */
        }

        .configurator-section h2, .config-summary h3 { font-family: 'Orbitron', sans-serif; font-weight: 700; background: linear-gradient(45deg, var(--nitro-pink), var(--nitro-purple)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-size: 1.8em; margin-bottom: 25px; text-align: left; padding-bottom: 10px; border-bottom: 2px solid var(--nitro-border-color); display: block; }
        .configurator-section h2 i { margin-right: 12px; font-size: 0.9em; }
        .component-selector-area { display: flex; flex-wrap: wrap; gap: 25px; align-items: flex-start; }
        .component-select-wrapper { flex: 2; min-width: 300px; }
        
        /* --- MENU DÉROULANT PERSONNALISÉ --- */
        select.component-select { display: none; }
        .custom-select-container { position: relative; width: 100%; z-index: 5; }
        .custom-select-container.open { z-index: 100; }
        .custom-select-display { width: 100%; padding: 14px 18px; border-radius: 8px; border: 1px solid var(--nitro-border-color); background-color: rgba(10, 10, 10, 0.8); color: #ffffff; font-family: 'Inter', sans-serif; font-size: 1em; cursor: pointer; transition: border-color 0.3s ease; display: flex; justify-content: space-between; align-items: center; }
        .custom-select-display:hover { border-color: var(--nitro-purple); }
        .custom-select-display::after { content: '▼'; font-size: 0.8em; color: var(--nitro-text-muted); transition: transform 0.3s ease; }
        .custom-select-container.open .custom-select-display { border-color: var(--nitro-pink); }
        .custom-select-container.open .custom-select-display::after { transform: rotate(180deg); }
        .custom-select-options { position: absolute; top: 105%; left: 0; width: 100%; max-height: 250px; overflow-y: auto; background: #1a1a24; border: 1px solid var(--nitro-border-color); border-radius: 8px; z-index: 15; display: none; padding: 5px; }
        .custom-select-container.open .custom-select-options { display: block; animation: fadeIn 0.2s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .custom-select-search { width: calc(100% - 10px); margin: 5px; padding: 8px 12px; background: #0a0a0a; border: 1px solid var(--nitro-border-color); border-radius: 6px; color: #fff; }
        .custom-select-option { padding: 10px 15px; cursor: pointer; transition: background-color 0.2s ease; border-radius: 4px; margin: 2px 5px; }
        .custom-select-option:hover, .custom-select-option.highlighted { background-color: rgba(255, 255, 255, 0.1); }
        .custom-select-option.hidden { display: none; }
        .custom-select-optgroup { font-weight: bold; color: var(--nitro-cyan); padding: 10px 15px; margin-top: 5px; border-top: 1px solid var(--nitro-border-color); text-transform: uppercase; font-size: 0.9em; }

        .selected-component-preview { flex: 1; min-width: 220px; max-width: 280px; padding: 20px; background-color: rgba(255, 255, 255, 0.03); border: 1px solid var(--nitro-border-color); border-radius: 10px; text-align: center; display: none; opacity: 0; transition: opacity 0.4s ease, transform 0.3s ease; transform: translateY(10px); }
        .selected-component-preview.visible { display: block; opacity: 1; transform: translateY(0); }
        .selected-component-preview img { width: 100%; max-width: 120px; height: auto; margin-bottom: 15px; border-radius: 4px; display: block; margin-left: auto; margin-right: auto; }
        .selected-component-preview .preview-name { font-weight: 700; font-size: 1em; margin-bottom: 8px; color: #ffffff; line-height: 1.3; }
        .selected-component-preview .preview-price { font-size: 1.1em; font-weight: bold; color: var(--nitro-pink); margin-bottom: 10px; }
        .remove-selection-btn { background: transparent; border: 1.5px solid #dc3545; color: #dc3545; padding: 6px 12px; font-size: 0.85em; border-radius: 6px; cursor: pointer; transition: all 0.3s ease; margin-top: 10px; }
        .remove-selection-btn:hover { background-color: rgba(220, 53, 69, 0.1); color: #ff4d4d; border-color: #ff4d4d; }
        .config-summary { border: 1px solid var(--nitro-purple); }
        #summary-list { list-style: none; padding: 0; margin-bottom: 20px; max-height: 220px; overflow-y: auto; font-size: 0.95em; text-align: left; }
        #summary-list li { padding: 10px 5px; border-bottom: 1px dashed var(--nitro-border-color); display: flex; justify-content: space-between; align-items: center; }
        #summary-list li .item-name { flex-grow: 1; }
        #summary-list li .item-price { font-weight: bold; color: var(--nitro-pink); }
        #summary-list li .remove-item-btn { background: none; border: none; color: #888; cursor: pointer; font-size: 1.2em; transition: color 0.2s ease, transform 0.2s ease; }
        #summary-list li .remove-item-btn:hover { color: #ff4d4d; transform: scale(1.1); }
        #total-price { font-family: 'Orbitron', sans-serif; font-size: 1.8em; font-weight: 900; color: var(--nitro-purple); margin-top: 20px; text-align: right; padding-top: 15px; border-top: 1px solid var(--nitro-border-color); }
        .config-actions { margin-top: 25px; display: flex; justify-content: flex-end; gap: 15px; flex-wrap: wrap;}
        .action-button { display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 12px 25px; background: linear-gradient(45deg, var(--nitro-pink), var(--nitro-purple)); color: #ffffff; text-decoration: none; border-radius: 50px; font-weight: 600; font-size: 1em; transition: all 0.3s ease; box-shadow: 0 10px 30px rgba(255, 0, 110, 0.3); border:none; cursor: pointer; }
        .action-button:hover { transform: translateY(-3px); box-shadow: 0 15px 40px rgba(255, 0, 110, 0.5); }
        .action-button.save { background: linear-gradient(45deg, var(--nitro-cyan), var(--nitro-blue)); box-shadow: 0 10px 30px rgba(6, 255, 165, 0.3); }
        .action-button.save:hover { box-shadow: 0 15px 40px rgba(6, 255, 165, 0.5); }
        .action-button.clear { background: transparent; border: 2px solid var(--nitro-error); color: var(--nitro-error); box-shadow: none; }
        .action-button.clear:hover { background: rgba(255, 71, 87, 0.1); box-shadow: none; }
        .compatibility-check-section { border: 1px solid var(--nitro-border-color); }
        .compatibility-toggle-wrapper { display: flex; align-items: center; gap: 15px; }
        .ui-switch { display: inline-block; position: relative; cursor: pointer; width: 50px; height: 26px; }
        .ui-switch input { opacity: 0; width: 0; height: 0; }
        .ui-switch .slider { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-color: #333; transition: .4s; border-radius: 26px; }
        .ui-switch .slider .circle { position: absolute; height: 20px; width: 20px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        .ui-switch input:checked + .slider { background-color: var(--nitro-pink); }
        .ui-switch input:checked + .slider .circle { transform: translateX(24px); }
        .compatibility-warnings-area { margin-top: 20px; padding: 15px; background-color: rgba(220, 53, 69, 0.1); border: 1px solid #dc3545; border-radius: 8px; }
        .compatibility-warnings-area h4 { margin: 0 0 10px 0; color: #dc3545; font-family: 'Orbitron', sans-serif; }
        .compatibility-warnings-area ul { list-style: none; padding-left: 0; margin: 0; }
        .compatibility-warnings-area ul li { padding: 5px 0; font-size: 0.9em; border-bottom: 1px dashed rgba(220, 53, 69, 0.3); }
        .compatibility-warnings-area ul li:last-child { border-bottom: none; }
        .component-description-under-select { font-size: 0.9em; color: #888; margin-top: 15px; min-height: 45px; padding: 8px 10px; background-color: rgba(0,0,0,0.15); border-radius: 6px; border: 1px dashed var(--nitro-border-color); text-align: left; }
        #toast-notification { position: fixed; bottom: -100px; left: 50%; transform: translateX(-50%); background-color: var(--nitro-cyan); color: #0a0a0a; padding: 15px 25px; border-radius: 50px; font-weight: 600; z-index: 2000; box-shadow: 0 10px 30px rgba(6, 255, 165, 0.4); opacity: 0; visibility: hidden; transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); }
        #toast-notification.show { opacity: 1; visibility: visible; bottom: 50px; }
        .load-config-wrapper { display: flex; gap: 10px; align-items: center;}
        footer { background: rgba(255, 255, 255, 0.02); padding: 50px 0; text-align: center; border-top: 1px solid rgba(255, 255, 255, 0.1); }
        .footer-content { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .footer-content p { color: #666; margin-bottom: 20px; }
    </style>
</head>

<body id="turbo-config-page">
    <div class="bg-animation"></div>
    <div class="particles" id="particles"></div>
    
    <header>
        <div class="header-content">
            <a href="/" style="text-decoration: none;"><div class="logo">Nitroxyde</div></a>
            <nav class="nav-links">
                <a href="/">Accueil</a>
                <a href="/TurboConfig">TurboConfig</a>
                <a href="/#demo">Nexium</a>
                <a href="/contact">Contact</a>
            </nav>
        </div>
    </header>

    <main>
        <section class="presentation">
            <h2>Créez votre PC sur Mesure</h2>
            <p>Sélectionnez vos composants étape par étape. Notre outil vérifie la compatibilité en temps réel pour vous garantir une configuration parfaite.</p>
        </section>

        <section class="compatibility-check-section">
            <div class="compatibility-toggle-wrapper">
                <label class="ui-switch" aria-label="Activer la vérification de compatibilité">
                    <input type="checkbox" id="compatibility-check-toggle" checked>
                    <div class="slider"><div class="circle"></div></div>
                </label>
                <span>Activer le filtre de compatibilité</span>
            </div>
            <div id="compatibility-warnings-display" class="compatibility-warnings-area" style="display: none;">
                <h4><i class="fas fa-exclamation-triangle"></i> Avertissements de compatibilité :</h4>
                <ul></ul>
            </div>
        </section>

        <section class="configurator-section" data-category="cpu">
            <h2><i class="fas fa-microchip"></i> Processeur (CPU)</h2>
            <div class="component-selector-area">
                <div class="component-select-wrapper">
                    <div class="custom-select-container">
                        <div class="custom-select-display" data-category="cpu">-- Sélectionnez un processeur --</div>
                        <div class="custom-select-options">
                            <input type="text" class="custom-select-search" placeholder="Filtrer...">
                        </div>
                    </div>
                    <select class="component-select" id="cpu-select">
                        <option value="" disabled selected data-name="Sélectionnez un CPU" data-price="0" data-image-src="" data-description="Choisissez un processeur pour commencer." data-socket="">-- Sélectionnez un processeur --</option>
                        
                        <!-- AMD Ryzen 9000 Series (AM5) -->
                        <optgroup label="AMD Ryzen 9000 Series (AM5)">
                            <option value="cpu-amd-9950x" data-name="AMD Ryzen 9 9950X" data-price="699" data-socket="AM5" data-image-src="" data-description="16 coeurs Zen 5, le flagship AMD pour 2024, performances exceptionnelles en multi-tâches.">AMD Ryzen 9 9950X - 699€</option>
                            <option value="cpu-amd-9900x" data-name="AMD Ryzen 9 9900X" data-price="549" data-socket="AM5" data-image-src="" data-description="12 coeurs Zen 5, excellent équilibre performance/prix pour la création de contenu.">AMD Ryzen 9 9900X - 549€</option>
                            <option value="cpu-amd-9700x" data-name="AMD Ryzen 7 9700X" data-price="399" data-socket="AM5" data-image-src="" data-description="8 coeurs Zen 5, idéal pour le gaming et les applications exigeantes.">AMD Ryzen 7 9700X - 399€</option>
                            <option value="cpu-amd-9600x" data-name="AMD Ryzen 5 9600X" data-price="279" data-socket="AM5" data-image-src="" data-description="6 coeurs Zen 5, excellent rapport qualité/prix pour le gaming moderne.">AMD Ryzen 5 9600X - 279€</option>
                        </optgroup>
                        
                        <!-- AMD Ryzen 7000 Series (AM5) -->
                        <optgroup label="AMD Ryzen 7000 Series (AM5)">
                            <option value="cpu-amd-7950x3d" data-name="AMD Ryzen 9 7950X3D" data-price="650" data-socket="AM5" data-image-src="" data-description="Le roi du gaming grâce à sa technologie 3D V-Cache, 16 coeurs pour une polyvalence totale.">AMD Ryzen 9 7950X3D - 650€</option>
                            <option value="cpu-amd-7950x" data-name="AMD Ryzen 9 7950X" data-price="550" data-socket="AM5" data-image-src="" data-description="16 coeurs bruts pour une productivité maximale en applicatif lourd et création de contenu.">AMD Ryzen 9 7950X - 550€</option>
                            <option value="cpu-amd-7900x3d" data-name="AMD Ryzen 9 7900X3D" data-price="529" data-socket="AM5" data-image-src="" data-description="12 coeurs avec 3D V-Cache, gaming de haut niveau avec excellentes performances multi-tâches.">AMD Ryzen 9 7900X3D - 529€</option>
                            <option value="cpu-amd-7900x" data-name="AMD Ryzen 9 7900X" data-price="479" data-socket="AM5" data-image-src="" data-description="12 coeurs Zen 4, excellent pour la création de contenu et le multitâche intensif.">AMD Ryzen 9 7900X - 479€</option>
                            <option value="cpu-amd-7800x3d" data-name="AMD Ryzen 7 7800X3D" data-price="449" data-socket="AM5" data-image-src="" data-description="8 coeurs avec 3D V-Cache, le meilleur processeur gaming actuellement disponible.">AMD Ryzen 7 7800X3D - 449€</option>
                            <option value="cpu-amd-7700x" data-name="AMD Ryzen 7 7700X" data-price="349" data-socket="AM5" data-image-src="" data-description="8 coeurs Zen 4, parfait équilibre entre gaming et productivité.">AMD Ryzen 7 7700X - 349€</option>
                            <option value="cpu-amd-7600x" data-name="AMD Ryzen 5 7600X" data-price="249" data-socket="AM5" data-image-src="" data-description="6 coeurs Zen 4, excellent rapport qualité/prix pour le gaming 1440p/4K.">AMD Ryzen 5 7600X - 249€</option>
                        </optgroup>
                        
                        <!-- AMD Ryzen 5000 Series (AM4) -->
                        <optgroup label="AMD Ryzen 5000 Series (AM4)">
                            <option value="cpu-amd-5950x" data-name="AMD Ryzen 9 5950X" data-price="479" data-socket="AM4" data-image-src="" data-description="16 coeurs Zen 3, toujours excellent pour la productivité, compatible AM4.">AMD Ryzen 9 5950X - 479€</option>
                            <option value="cpu-amd-5900x" data-name="AMD Ryzen 9 5900X" data-price="399" data-socket="AM4" data-image-src="" data-description="12 coeurs Zen 3, excellent choix pour upgrade une plateforme AM4.">AMD Ryzen 9 5900X - 399€</option>
                            <option value="cpu-amd-5800x3d" data-name="AMD Ryzen 7 5800X3D" data-price="329" data-socket="AM4" data-image-src="" data-description="8 coeurs avec 3D V-Cache, upgrade gaming parfait pour AM4.">AMD Ryzen 7 5800X3D - 329€</option>
                            <option value="cpu-amd-5800x" data-name="AMD Ryzen 7 5800X" data-price="279" data-socket="AM4" data-image-src="" data-description="8 coeurs Zen 3, solide pour gaming et applications créatives sur AM4.">AMD Ryzen 7 5800X - 279€</option>
                            <option value="cpu-amd-5700x" data-name="AMD Ryzen 7 5700X" data-price="229" data-socket="AM4" data-image-src="" data-description="8 coeurs Zen 3 65W, efficace et performant pour un upgrade AM4.">AMD Ryzen 7 5700X - 229€</option>
                            <option value="cpu-amd-5600x" data-name="AMD Ryzen 5 5600X" data-price="179" data-socket="AM4" data-image-src="" data-description="6 coeurs Zen 3, excellent rapport qualité/prix pour gaming 1080p/1440p.">AMD Ryzen 5 5600X - 179€</option>
                            <option value="cpu-amd-5600" data-name="AMD Ryzen 5 5600" data-price="149" data-socket="AM4" data-image-src="" data-description="6 coeurs Zen 3 non-X, parfait pour budget serré avec bonnes performances.">AMD Ryzen 5 5600 - 149€</option>
                        </optgroup>
                        
                        <!-- Intel 14th Gen (LGA1700) -->
                        <optgroup label="Intel 14th Gen Core (LGA1700)">
                            <option value="cpu-intel-i9-14900ks" data-name="Intel Core i9-14900KS" data-price="729" data-socket="LGA1700" data-image-src="" data-description="Version spéciale du 14900K avec fréquences plus élevées, 24 coeurs (8P+16E).">Intel Core i9-14900KS - 729€</option>
                            <option value="cpu-intel-i9-14900k" data-name="Intel Core i9-14900K" data-price="650" data-socket="LGA1700" data-image-src="/images/I9 14900K.png" data-description="Le plus puissant de la 14ème génération, 24 coeurs (8P+16E) pour des performances extrêmes.">Intel Core i9-14900K - 650€</option>
                            <option value="cpu-intel-i9-14900kf" data-name="Intel Core i9-14900KF" data-price="629" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 14900K, même performances pour moins cher.">Intel Core i9-14900KF - 629€</option>
                            <option value="cpu-intel-i9-14900" data-name="Intel Core i9-14900" data-price="549" data-socket="LGA1700" data-image-src="" data-description="Version 65W du i9, 24 coeurs avec efficacité énergétique améliorée.">Intel Core i9-14900 - 549€</option>
                            <option value="cpu-intel-i9-14900f" data-name="Intel Core i9-14900F" data-price="529" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 14900, excellent pour workstation.">Intel Core i9-14900F - 529€</option>
                            <option value="cpu-intel-i7-14700k" data-name="Intel Core i7-14700K" data-price="449" data-socket="LGA1700" data-image-src="" data-description="20 coeurs (8P+12E), excellent équilibre performance/prix pour gaming et productivité.">Intel Core i7-14700K - 449€</option>
                            <option value="cpu-intel-i7-14700kf" data-name="Intel Core i7-14700KF" data-price="429" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 14700K, parfait pour gaming avec GPU dédié.">Intel Core i7-14700KF - 429€</option>
                            <option value="cpu-intel-i7-14700" data-name="Intel Core i7-14700" data-price="379" data-socket="LGA1700" data-image-src="" data-description="20 coeurs en version 65W, idéal pour builds compactes performantes.">Intel Core i7-14700 - 379€</option>
                            <option value="cpu-intel-i7-14700f" data-name="Intel Core i7-14700F" data-price="359" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 14700, excellent rapport qualité/prix.">Intel Core i7-14700F - 359€</option>
                            <option value="cpu-intel-i5-14600k" data-name="Intel Core i5-14600K" data-price="329" data-socket="LGA1700" data-image-src="" data-description="14 coeurs (6P+8E), référence gaming milieu de gamme avec overclocking.">Intel Core i5-14600K - 329€</option>
                            <option value="cpu-intel-i5-14600kf" data-name="Intel Core i5-14600KF" data-price="309" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 14600K, parfait pour gaming 1440p.">Intel Core i5-14600KF - 309€</option>
                            <option value="cpu-intel-i5-14600" data-name="Intel Core i5-14600" data-price="279" data-socket="LGA1700" data-image-src="" data-description="14 coeurs en version verrouillée, bon compromis performance/consommation.">Intel Core i5-14600 - 279€</option>
                            <option value="cpu-intel-i5-14500" data-name="Intel Core i5-14500" data-price="249" data-socket="LGA1700" data-image-src="" data-description="14 coeurs, version plus abordable pour gaming 1080p/1440p.">Intel Core i5-14500 - 249€</option>
                            <option value="cpu-intel-i5-14400" data-name="Intel Core i5-14400" data-price="219" data-socket="LGA1700" data-image-src="" data-description="10 coeurs (6P+4E), entrée de gamme solide pour gaming moderne.">Intel Core i5-14400 - 219€</option>
                            <option value="cpu-intel-i5-14400f" data-name="Intel Core i5-14400F" data-price="199" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 14400, excellent rapport qualité/prix pour builds gaming.">Intel Core i5-14400F - 199€</option>
                        </optgroup>
                        
                        <!-- Intel 13th Gen (LGA1700) -->
                        <optgroup label="Intel 13th Gen Core (LGA1700)">
                            <option value="cpu-intel-i9-13900ks" data-name="Intel Core i9-13900KS" data-price="659" data-socket="LGA1700" data-image-src="" data-description="Version spéciale 13900K avec boost jusqu'à 6GHz, 24 coeurs (8P+16E).">Intel Core i9-13900KS - 659€</option>
                            <option value="cpu-intel-i9-13900k" data-name="Intel Core i9-13900K" data-price="579" data-socket="LGA1700" data-image-src="" data-description="24 coeurs (8P+16E) Raptor Lake, excellent pour workstation et gaming.">Intel Core i9-13900K - 579€</option>
                            <option value="cpu-intel-i9-13900kf" data-name="Intel Core i9-13900KF" data-price="559" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 13900K, performances identiques pour moins cher.">Intel Core i9-13900KF - 559€</option>
                            <option value="cpu-intel-i9-13900" data-name="Intel Core i9-13900" data-price="489" data-socket="LGA1700" data-image-src="" data-description="24 coeurs en version 65W, excellente efficacité énergétique.">Intel Core i9-13900 - 489€</option>
                            <option value="cpu-intel-i9-13900f" data-name="Intel Core i9-13900F" data-price="469" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 13900, parfait pour workstation performante.">Intel Core i9-13900F - 469€</option>
                            <option value="cpu-intel-i7-13700k" data-name="Intel Core i7-13700K" data-price="389" data-socket="LGA1700" data-image-src="" data-description="16 coeurs (8P+8E), sweet spot pour gaming et création de contenu.">Intel Core i7-13700K - 389€</option>
                            <option value="cpu-intel-i7-13700kf" data-name="Intel Core i7-13700KF" data-price="369" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 13700K, excellent choix gaming haut de gamme.">Intel Core i7-13700KF - 369€</option>
                            <option value="cpu-intel-i7-13700" data-name="Intel Core i7-13700" data-price="329" data-socket="LGA1700" data-image-src="" data-description="16 coeurs en version 65W, idéal pour builds silencieuses performantes.">Intel Core i7-13700 - 329€</option>
                            <option value="cpu-intel-i7-13700f" data-name="Intel Core i7-13700F" data-price="309" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 13700, très bon rapport performance/prix.">Intel Core i7-13700F - 309€</option>
                            <option value="cpu-intel-i5-13600k" data-name="Intel Core i5-13600K" data-price="289" data-socket="LGA1700" data-image-src="" data-description="14 coeurs (6P+8E), référence absolue gaming milieu de gamme.">Intel Core i5-13600K - 289€</option>
                            <option value="cpu-intel-i5-13600kf" data-name="Intel Core i5-13600KF" data-price="269" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 13600K, imbattable en gaming 1440p.">Intel Core i5-13600KF - 269€</option>
                            <option value="cpu-intel-i5-13600" data-name="Intel Core i5-13600" data-price="239" data-socket="LGA1700" data-image-src="" data-description="14 coeurs verrouillés, bon compromis pour gaming sans overclocking.">Intel Core i5-13600 - 239€</option>
                            <option value="cpu-intel-i5-13500" data-name="Intel Core i5-13500" data-price="219" data-socket="LGA1700" data-image-src="" data-description="14 coeurs, version plus abordable avec bonnes performances gaming.">Intel Core i5-13500 - 219€</option>
                            <option value="cpu-intel-i5-13400" data-name="Intel Core i5-13400" data-price="189" data-socket="LGA1700" data-image-src="" data-description="10 coeurs (6P+4E), excellent entrée de gamme pour gaming actuel.">Intel Core i5-13400 - 189€</option>
                            <option value="cpu-intel-i5-13400f" data-name="Intel Core i5-13400F" data-price="169" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 13400, imbattable en rapport qualité/prix gaming.">Intel Core i5-13400F - 169€</option>
                        </optgroup>
                        
                        <!-- Intel 12th Gen (LGA1700) -->
                        <optgroup label="Intel 12th Gen Core (LGA1700)">
                            <option value="cpu-intel-i9-12900ks" data-name="Intel Core i9-12900KS" data-price="569" data-socket="LGA1700" data-image-src="" data-description="Version spéciale du 12900K avec fréquences boost plus élevées.">Intel Core i9-12900KS - 569€</option>
                            <option value="cpu-intel-i9-12900k" data-name="Intel Core i9-12900K" data-price="479" data-socket="LGA1700" data-image-src="" data-description="16 coeurs (8P+8E) Alder Lake, première génération hybride Intel.">Intel Core i9-12900K - 479€</option>
                            <option value="cpu-intel-i9-12900kf" data-name="Intel Core i9-12900KF" data-price="459" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 12900K, excellent pour workstation.">Intel Core i9-12900KF - 459€</option>
                            <option value="cpu-intel-i9-12900" data-name="Intel Core i9-12900" data-price="419" data-socket="LGA1700" data-image-src="" data-description="16 coeurs en version 65W, plus efficace énergétiquement.">Intel Core i9-12900 - 419€</option>
                            <option value="cpu-intel-i9-12900f" data-name="Intel Core i9-12900F" data-price="399" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 12900, bon choix pour upgrade LGA1700.">Intel Core i9-12900F - 399€</option>
                            <option value="cpu-intel-i7-12700k" data-name="Intel Core i7-12700K" data-price="329" data-socket="LGA1700" data-image-src="" data-description="12 coeurs (8P+4E), excellent pour gaming et multitâche modéré.">Intel Core i7-12700K - 329€</option>
                            <option value="cpu-intel-i7-12700kf" data-name="Intel Core i7-12700KF" data-price="309" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 12700K, très populaire pour gaming.">Intel Core i7-12700KF - 309€</option>
                            <option value="cpu-intel-i7-12700" data-name="Intel Core i7-12700" data-price="279" data-socket="LGA1700" data-image-src="" data-description="12 coeurs en version 65W, bon équilibre performance/consommation.">Intel Core i7-12700 - 279€</option>
                            <option value="cpu-intel-i7-12700f" data-name="Intel Core i7-12700F" data-price="259" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 12700, solide pour gaming milieu de gamme.">Intel Core i7-12700F - 259€</option>
                            <option value="cpu-intel-i5-12600k" data-name="Intel Core i5-12600K" data-price="239" data-socket="LGA1700" data-image-src="" data-description="10 coeurs (6P+4E), très bon gaming avec possibilité d'overclocking.">Intel Core i5-12600K - 239€</option>
                            <option value="cpu-intel-i5-12600kf" data-name="Intel Core i5-12600KF" data-price="219" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 12600K, excellent rapport qualité/prix.">Intel Core i5-12600KF - 219€</option>
                            <option value="cpu-intel-i5-12600" data-name="Intel Core i5-12600" data-price="199" data-socket="LGA1700" data-image-src="" data-description="10 coeurs verrouillés, bon choix pour gaming sans overclocking.">Intel Core i5-12600 - 199€</option>
                            <option value="cpu-intel-i5-12500" data-name="Intel Core i5-12500" data-price="179" data-socket="LGA1700" data-image-src="" data-description="10 coeurs, version plus abordable avec bonnes performances.">Intel Core i5-12500 - 179€</option>
                            <option value="cpu-intel-i5-12400" data-name="Intel Core i5-12400" data-price="159" data-socket="LGA1700" data-image-src="" data-description="6 coeurs P-cores, excellent entrée de gamme pour gaming 1080p.">Intel Core i5-12400 - 159€</option>
                            <option value="cpu-intel-i5-12400f" data-name="Intel Core i5-12400F" data-price="139" data-socket="LGA1700" data-image-src="" data-description="Version sans iGPU du 12400, imbattable en budget gaming.">Intel Core i5-12400F - 139€</option>
                        </optgroup>
                    </select>
                    <div class="component-description-under-select" id="cpu-description-under-select">Description du composant...</div>
                </div>
                <div class="selected-component-preview" id="cpu-preview"></div>
            </div>
        </section>

        <section class="configurator-section" data-category="motherboard">
            <h2><i class="fas fa-server"></i> Carte Mère</h2>
            <div class="component-selector-area">
                <div class="component-select-wrapper">
                    <div class="custom-select-container">
                        <div class="custom-select-display" data-category="motherboard">-- Sélectionnez une carte mère --</div>
                        <div class="custom-select-options">
                            <input type="text" class="custom-select-search" placeholder="Filtrer...">
                        </div>
                    </div>
                    <select class="component-select" id="motherboard-select">
                        <option value="" disabled selected data-name="Sélectionnez une carte mère" data-price="0" data-image-src="" data-description="La carte mère est le coeur de votre PC, elle connecte tous les composants.">-- Sélectionnez une carte mère --</option>
                        <optgroup label="Socket AM5 (AMD)">
                            <option value="mb-msi-b650" data-name="MSI B650 GAMING PLUS WIFI" data-price="180" data-socket="AM5" data-ram-type="DDR5" data-image-src="" data-description="Excellente carte B650 avec WiFi 6E, VRM robustes et de nombreuses options de connectivité.">MSI B650 GAMING PLUS WIFI - 180€</option>
                            <option value="mb-asus-x670e" data-name="ASUS ROG STRIX X670E-F" data-price="450" data-socket="AM5" data-ram-type="DDR5" data-image-src="" data-description="Haut de gamme pour Ryzen 7000, avec PCIe 5.0 pour le GPU et le SSD NVMe.">ASUS ROG STRIX X670E-F - 450€</option>
                        </optgroup>
                        <optgroup label="Socket LGA1700 (Intel)">
                            <option value="mb-msi-z790" data-name="MSI MAG Z790 TOMAHAWK WIFI" data-price="280" data-socket="LGA1700" data-ram-type="DDR5" data-image-src="" data-description="Une référence pour les processeurs Intel, supporte la DDR5 et offre un excellent rapport qualité/prix.">MSI MAG Z790 TOMAHAWK WIFI - 280€</option>
                            <option value="mb-gigabyte-b760" data-name="Gigabyte B760M DS3H" data-price="120" data-socket="LGA1700" data-ram-type="DDR4" data-image-src="" data-description="Option abordable pour les processeurs Intel non-K, utilisant la RAM DDR4.">Gigabyte B760M DS3H (DDR4) - 120€</option>
                        </optgroup>
                    </select>
                    <div class="component-description-under-select" id="motherboard-description-under-select">Description du composant...</div>
                </div>
                <div class="selected-component-preview" id="motherboard-preview"></div>
            </div>
        </section>

        <section class="configurator-section" data-category="ram">
            <h2><i class="fas fa-memory"></i> Mémoire Vive (RAM)</h2>
            <div class="component-selector-area">
                <div class="component-select-wrapper">
                    <div class="custom-select-container">
                         <div class="custom-select-display" data-category="ram">-- Sélectionnez la RAM --</div>
                        <div class="custom-select-options">
                            <input type="text" class="custom-select-search" placeholder="Filtrer...">
                        </div>
                    </div>
                    <select class="component-select" id="ram-select">
                        <option value="" disabled selected data-name="Sélectionnez la RAM" data-price="0" data-image-src="" data-description="La RAM stocke temporairement les données pour un accès rapide. 32Go est idéal pour le gaming moderne.">-- Sélectionnez la RAM --</option>
                        <optgroup label="DDR5">
                            <option value="ram-corsair-ddr5-6000" data-name="Corsair Vengeance 32Go (2x16) DDR5 6000MHz CL30" data-price="130" data-ram-type="DDR5" data-image-src="" data-description="Kit performant avec une faible latence, idéal pour les plateformes AMD et Intel récentes.">Corsair Vengeance 32Go DDR5 6000MHz - 130€</option>
                            <option value="ram-gskill-ddr5-6400" data-name="G.Skill Trident Z5 RGB 32Go (2x16) DDR5 6400MHz CL32" data-price="150" data-ram-type="DDR5" data-image-src="" data-description="Hautes fréquences et éclairage RGB pour un look et des performances premium.">G.Skill Trident Z5 RGB 32Go DDR5 - 150€</option>
                        </optgroup>
                        <optgroup label="DDR4">
                            <option value="ram-corsair-ddr4-3200" data-name="Corsair Vengeance LPX 32Go (2x16) DDR4 3200MHz CL16" data-price="80" data-ram-type="DDR4" data-image-src="" data-description="Un standard fiable et performant pour les configurations DDR4. Excellent rapport qualité/prix.">Corsair Vengeance LPX 32Go DDR4 - 80€</option>
                        </optgroup>
                    </select>
                    <div class="component-description-under-select" id="ram-description-under-select">Description du composant...</div>
                </div>
                <div class="selected-component-preview" id="ram-preview"></div>
            </div>
        </section>

        <section class="configurator-section" data-category="gpu">
            <h2><i class="fas fa-gamepad"></i> Carte Graphique (GPU)</h2>
            <div class="component-selector-area">
                <div class="component-select-wrapper">
                    <div class="custom-select-container">
                        <div class="custom-select-display" data-category="gpu">-- Sélectionnez une carte graphique --</div>
                        <div class="custom-select-options">
                            <input type="text" class="custom-select-search" placeholder="Filtrer...">
                        </div>
                    </div>
                    <select class="component-select" id="gpu-select">
                        <option value="" disabled selected data-name="Sélectionnez un GPU" data-price="0" data-image-src="" data-description="Le composant le plus important pour les jeux vidéo et le rendu 3D.">-- Sélectionnez une carte graphique --</option>
                        <optgroup label="NVIDIA GeForce">
                            <option value="gpu-rtx4090" data-name="NVIDIA GeForce RTX 4090 24Go" data-price="1800" data-image-src="" data-description="La carte graphique la plus puissante du marché, pour jouer en 4K sans compromis.">NVIDIA GeForce RTX 4090 - 1800€</option>
                            <option value="gpu-rtx4070s" data-name="NVIDIA GeForce RTX 4070 Super 12Go" data-price="650" data-image-src="" data-description="Excellent choix pour le jeu en 1440p (QHD) avec des performances de premier ordre.">NVIDIA GeForce RTX 4070 Super - 650€</option>
                        </optgroup>
                        <optgroup label="AMD Radeon">
                            <option value="gpu-rx7900xtx" data-name="AMD Radeon RX 7900 XTX 24Go" data-price="1000" data-image-src="" data-description="Le fleuron d'AMD, concurrente directe de la RTX 4080 avec une excellente performance brute.">AMD Radeon RX 7900 XTX - 1000€</option>
                        </optgroup>
                    </select>
                    <div class="component-description-under-select" id="gpu-description-under-select">Description du composant...</div>
                </div>
                <div class="selected-component-preview" id="gpu-preview"></div>
            </div>
        </section>

        <section class="configurator-section" data-category="storage">
            <h2><i class="fas fa-hdd"></i> Stockage (SSD/HDD)</h2>
            <div class="component-selector-area">
                <div class="component-select-wrapper">
                    <div class="custom-select-container">
                        <div class="custom-select-display" data-category="storage">-- Sélectionnez un stockage --</div>
                        <div class="custom-select-options">
                            <input type="text" class="custom-select-search" placeholder="Filtrer...">
                        </div>
                    </div>
                    <select class="component-select" id="storage-select">
                        <option value="" disabled selected data-name="Sélectionnez un stockage" data-price="0" data-image-src="" data-description="Un SSD NVMe est recommandé pour le système d'exploitation et les jeux pour des temps de chargement ultra-rapides.">-- Sélectionnez un stockage --</option>
                         <optgroup label="SSD NVMe Gen4">
                             <option value="ssd-samsung-990pro" data-name="Samsung 990 Pro 2To" data-price="180" data-image-src="" data-description="L'un des SSD les plus rapides du marché, parfait pour les professionnels et les gamers exigeants.">Samsung 990 Pro 2To - 180€</option>
                             <option value="ssd-crucial-p5plus" data-name="Crucial P5 Plus 2To" data-price="130" data-image-src="" data-description="Excellent rapport performance/prix pour un SSD Gen4 rapide et fiable.">Crucial P5 Plus 2To - 130€</option>
                        </optgroup>
                    </select>
                    <div class="component-description-under-select" id="storage-description-under-select">Description du composant...</div>
                </div>
                <div class="selected-component-preview" id="storage-preview"></div>
            </div>
        </section>

        <section class="configurator-section" data-category="cooling">
            <h2><i class="fas fa-fan"></i> Refroidissement CPU</h2>
            <div class="component-selector-area">
                <div class="component-select-wrapper">
                    <div class="custom-select-container">
                        <div class="custom-select-display" data-category="cooling">-- Sélectionnez un refroidissement --</div>
                        <div class="custom-select-options">
                            <input type="text" class="custom-select-search" placeholder="Filtrer...">
                        </div>
                    </div>
                    <select class="component-select" id="cooling-select">
                        <option value="" disabled selected data-name="Sélectionnez un refroidissement" data-price="0" data-image-src="" data-description="Un bon refroidissement est crucial pour maintenir les performances de votre processeur, surtout en jeu ou en charge lourde.">-- Sélectionnez un refroidissement --</option>
                         <optgroup label="Watercooling AIO">
                             <option value="aio-nzxt-kraken" data-name="NZXT Kraken 360" data-price="190" data-image-src="" data-description="Refroidissement liquide tout-en-un performant avec un écran LCD personnalisable.">NZXT Kraken 360 - 190€</option>
                         </optgroup>
                         <optgroup label="Ventirad (Air Cooling)">
                            <option value="air-noctua-nhd15" data-name="Noctua NH-D15 chromax.black" data-price="110" data-image-src="" data-description="Le roi du refroidissement par air. Silencieux, ultra-performant et entièrement noir.">Noctua NH-D15 - 110€</option>
                         </optgroup>
                    </select>
                    <div class="component-description-under-select" id="cooling-description-under-select">Description du composant...</div>
                </div>
                <div class="selected-component-preview" id="cooling-preview"></div>
            </div>
        </section>

        <section class="configurator-section" data-category="psu">
            <h2><i class="fas fa-bolt"></i> Alimentation (PSU)</h2>
            <div class="component-selector-area">
                <div class="component-select-wrapper">
                    <div class="custom-select-container">
                        <div class="custom-select-display" data-category="psu">-- Sélectionnez une alimentation --</div>
                        <div class="custom-select-options">
                            <input type="text" class="custom-select-search" placeholder="Filtrer...">
                        </div>
                    </div>
                    <select class="component-select" id="psu-select">
                        <option value="" disabled selected data-name="Sélectionnez une alimentation" data-price="0" data-image-src="" data-description="Fournit l'énergie à tous vos composants. Choisissez une puissance suffisante et une bonne certification (80+ Gold est un bon choix).">-- Sélectionnez une alimentation --</option>
                        <optgroup label="80+ Gold">
                            <option value="psu-corsair-rm850e" data-name="Corsair RM850e 850W 80+ Gold" data-price="140" data-image-src="" data-description="Alimentation modulaire fiable et silencieuse, idéale pour la plupart des configurations haut de gamme.">Corsair RM850e 850W - 140€</option>
                            <option value="psu-seasonic-focus-1000" data-name="Seasonic FOCUS GX 1000W 80+ Gold" data-price="190" data-image-src="" data-description="1000W pour les configurations les plus exigeantes avec des cartes graphiques très puissantes.">Seasonic FOCUS GX 1000W - 190€</option>
                        </optgroup>
                    </select>
                    <div class="component-description-under-select" id="psu-description-under-select">Description du composant...</div>
                </div>
                <div class="selected-component-preview" id="psu-preview"></div>
            </div>
        </section>

        <section class="configurator-section" data-category="case">
            <h2><i class="fas fa-cube"></i> Boîtier</h2>
            <div class="component-selector-area">
                <div class="component-select-wrapper">
                    <div class="custom-select-container">
                        <div class="custom-select-display" data-category="case">-- Sélectionnez un boîtier --</div>
                        <div class="custom-select-options">
                            <input type="text" class="custom-select-search" placeholder="Filtrer...">
                        </div>
                    </div>
                    <select class="component-select" id="case-select">
                        <option value="" disabled selected data-name="Sélectionnez un boîtier" data-price="0" data-image-src="" data-description="Le boîtier protège vos composants et joue un rôle clé dans le refroidissement. Assurez-vous qu'il est assez grand pour tout contenir.">-- Sélectionnez un boîtier --</option>
                        <optgroup label="Moyen Tour">
                            <option value="case-nzxt-h7" data-name="NZXT H7 Flow" data-price="140" data-image-src="" data-description="Un boîtier sobre et élégant avec un excellent flux d'air grâce à sa façade perforée.">NZXT H7 Flow - 140€</option>
                             <option value="case-lianli-o11" data-name="Lian Li O11 Dynamic EVO" data-price="180" data-image-src="" data-description="Design panoramique à double chambre, parfait pour mettre en valeur vos composants et le watercooling.">Lian Li O11 Dynamic EVO - 180€</option>
                        </optgroup>
                    </select>
                    <div class="component-description-under-select" id="case-description-under-select">Description du composant...</div>
                </div>
                <div class="selected-component-preview" id="case-preview"></div>
            </div>
        </section>

        <div class="config-summary">
            <h3>Votre Configuration</h3>
            <ul id="summary-list"><li>Votre configuration est vide.</li></ul>
            <div id="total-price">Total : 0.00 €</div>
            <div class="config-actions">
                <div class="load-config-wrapper">
                    <select class="component-select" id="saved-configs-select" style="min-width: 200px; display: none;"></select>
                    <button class="action-button" id="load-config-btn" style="display: none;" title="Charger la configuration sélectionnée"><i class="fas fa-folder-open"></i></button>
                    <button class="action-button clear" id="delete-config-btn" style="display: none;" title="Supprimer la configuration sélectionnée"><i class="fas fa-trash"></i></button>
                </div>
                <button class="action-button save" id="save-config-btn"><i class="fas fa-save"></i> Sauvegarder</button>
                <button class="action-button clear" id="clear-config-btn"><i class="fas fa-times"></i> Vider</button>
            </div>
        </div>
    </main>

    <footer id="contact">
        <div class="footer-content">
            <p>&copy; 2025 Nitroxyde. Tous droits réservés.</p>
            <div class="social-links">
                <a href="/unavailable">Instagram</a><a href="/unavailable">Tiktok</a><a href="https://discord.gg/Ysd9DHzSTh">Discord</a>
            </div>
        </div>
    </footer>

    <div id="toast-notification"></div>

    <script>
       document.addEventListener('DOMContentLoaded', () => {
    // Fonction pour l'animation des particules en fond
    function createParticles() {
        const particlesContainer = document.getElementById('particles');
        if (!particlesContainer) return;
        const particleCount = 50; 
        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.top = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 8 + 's';
            particle.style.animationDuration = (Math.random() * 5 + 5) + 's';
            particlesContainer.appendChild(particle);
        }
    }
    createParticles();

    // S'assure que le script du configurateur ne s'exécute que sur la bonne page
    if (document.body.id === 'turbo-config-page') {
        const configurator = {
            selectedComponents: {}, // L'état de la configuration actuelle

            init() {
                this.initializeCustomSelects();
                this.addEventListeners();
                this.loadConfiguration(null, true);
            },

            addEventListeners() {
                document.querySelectorAll('select.component-select').forEach(sel => sel.addEventListener('change', e => this.selectComponent(e.target.options[e.target.selectedIndex])));
                
                document.addEventListener('click', e => {
                    if (e.target && e.target.closest('.remove-selection-btn')) this.removeComponent(e.target.closest('.remove-selection-btn').dataset.category);
                    if (e.target && e.target.closest('.remove-item-btn')) this.removeComponent(e.target.closest('.remove-item-btn').dataset.category);
                });

                document.getElementById('compatibility-check-toggle').addEventListener('change', () => this.updateDisplay());
                
                document.getElementById('save-config-btn').addEventListener('click', () => this.saveConfiguration());
                document.getElementById('load-config-btn').addEventListener('click', () => this.loadConfiguration(document.getElementById('saved-configs-select').value));
                document.getElementById('delete-config-btn').addEventListener('click', () => this.deleteConfiguration(document.getElementById('saved-configs-select').value));
                document.getElementById('clear-config-btn').addEventListener('click', () => this.clearConfiguration());
            },

            selectComponent(option) {
                const category = option.closest('.configurator-section').dataset.category;
                if (!option.value) { this.removeComponent(category); return; }
                const data = option.dataset;
                this.selectedComponents[category] = { 
                    id: option.value, 
                    name: data.name, 
                    price: parseFloat(data.price), 
                    imageSrc: data.imageSrc, 
                    description: data.description, 
                    socket: data.socket, 
                    ramType: data.ramType 
                };
                this.updateDisplay();
            },

            removeComponent(category) {
                this.selectedComponents[category] = null;
                const select = document.getElementById(`${category}-select`);
                if (select) select.value = '';

                const customDisplay = document.querySelector(`.custom-select-display[data-category="${category}"]`);
                if (customDisplay && select) {
                    customDisplay.textContent = select.options[0].textContent;
                }
                this.updateDisplay();
            },

            updateDisplay() {
                let total = 0;
                let hasItems = false;
                const summaryList = document.getElementById('summary-list');
                summaryList.innerHTML = '';
                const categoryOrder = ['cpu', 'motherboard', 'ram', 'gpu', 'storage', 'cooling', 'psu', 'case'];

                categoryOrder.forEach(cat => {
                    const item = this.selectedComponents[cat];
                    this.updatePreview(cat, item);
                    if (item) {
                        hasItems = true;
                        total += item.price;
                        const li = document.createElement('li');
                        li.innerHTML = `<span class="item-name">${item.name}</span><span class="item-price">${item.price.toFixed(2)} €</span><button class="remove-item-btn" data-category="${cat}" title="Retirer">×</button>`;
                        summaryList.appendChild(li);
                    }
                });

                if (!hasItems) summaryList.innerHTML = '<li>Votre configuration est vide.</li>';
                document.getElementById('total-price').textContent = `Total : ${total.toFixed(2)} €`;
                this.updateCompatibilityDisplay();
                this.populateLoadMenu();
            },

            updatePreview(category, item) {
                const preview = document.getElementById(`${category}-preview`);
                const descriptionDisplay = document.getElementById(`${category}-description-under-select`);
                if (!preview) return;
                if (item) {
                    preview.innerHTML = `
                        <img src="${item.imageSrc || ''}" alt="Aperçu ${item.name}" style="display: ${item.imageSrc ? 'block' : 'none'};">
                        <div class="preview-name">${item.name}</div>
                        <div class="preview-price">${item.price.toFixed(2)} €</div>
                        <button class="remove-selection-btn" data-category="${category}">Retirer</button>
                    `;
                    preview.classList.add('visible');
                    if(descriptionDisplay) descriptionDisplay.textContent = item.description;
                } else {
                    preview.classList.remove('visible');
                    const select = document.getElementById(`${category}-select`);
                    if(descriptionDisplay && select) descriptionDisplay.textContent = select.options[0].dataset.description;
                }
            },

            checkCompatibility() {
                const warnings = [];
                const { cpu, motherboard, ram } = this.selectedComponents;
                if (cpu && motherboard && cpu.socket && motherboard.socket && cpu.socket !== motherboard.socket) {
                    warnings.push(`Socket: CPU (${cpu.socket}) et Carte Mère (${motherboard.socket}) sont incompatibles.`);
                }
                if (motherboard && ram && motherboard.ramType && ram.ramType && motherboard.ramType !== ram.ramType) {
                    warnings.push(`RAM: La Carte Mère (${motherboard.ramType}) et la RAM (${ram.ramType}) sont incompatibles.`);
                }
                return warnings;
            },

            updateCompatibilityDisplay() {
                const warnings = this.checkCompatibility();
                const warningDisplay = document.getElementById('compatibility-warnings-display');
                const warningList = warningDisplay.querySelector('ul');
                const isEnabled = document.getElementById('compatibility-check-toggle').checked;
                
                warningList.innerHTML = '';
                if (isEnabled && warnings.length > 0) {
                    warnings.forEach(msg => {
                        const li = document.createElement('li');
                        li.textContent = msg;
                        warningList.appendChild(li);
                    });
                    warningDisplay.style.display = 'block';
                } else {
                    warningDisplay.style.display = 'none';
                }
            },

            getSavedConfigs() {
                const configs = localStorage.getItem('nitroxydeAllConfigs');
                return configs ? JSON.parse(configs) : {};
            },

            saveConfiguration() {
                const hasItems = Object.values(this.selectedComponents).some(c => c !== null);
                if (!hasItems) {
                    this.showToast('Impossible de sauvegarder une configuration vide.');
                    return;
                }
                const configName = prompt("Entrez un nom pour votre configuration :", "Mon Build Gaming");
                if (!configName || !configName.trim()) return;

                const configs = this.getSavedConfigs();
                configs[configName] = this.selectedComponents;
                localStorage.setItem('nitroxydeAllConfigs', JSON.stringify(configs));
                this.showToast(`Configuration "${configName}" sauvegardée !`);
                this.populateLoadMenu();
            },

            loadConfiguration(configName, silent = false) {
                const configs = this.getSavedConfigs();
                let configToLoad = null;
                let loadedName = '';

                if (configName && configs[configName]) {
                    configToLoad = configs[configName];
                    loadedName = configName;
                } else if (!configName) {
                    const lastConfig = localStorage.getItem('nitroxydeLastSession');
                    if (lastConfig) {
                        configToLoad = JSON.parse(lastConfig);
                        loadedName = 'Dernière session';
                    }
                }
                
                if (configToLoad) {
                    this.clearConfiguration(true);
                    this.selectedComponents = configToLoad;
                    Object.entries(this.selectedComponents).forEach(([cat, item]) => {
                        if (item) {
                            const select = document.getElementById(`${cat}-select`);
                            if(select) {
                                select.value = item.id;
                                const customDisplay = document.querySelector(`.custom-select-display[data-category="${cat}"]`);
                                if (customDisplay) {
                                    const selectedOption = select.options[select.selectedIndex];
                                    customDisplay.textContent = selectedOption.textContent;
                                }
                            }
                        }
                    });
                    if (!silent) this.showToast(`Configuration "${loadedName}" chargée.`);
                    this.updateDisplay();
                } else {
                    if (!silent) this.showToast('Aucune configuration à charger.');
                }
            },

            deleteConfiguration(configName) {
                if (!configName) { this.showToast('Veuillez sélectionner une configuration à supprimer.'); return; }
                const configs = this.getSavedConfigs();
                if (configs[configName] && confirm(`Êtes-vous sûr de vouloir supprimer la configuration "${configName}" ?`)) {
                    delete configs[configName];
                    localStorage.setItem('nitroxydeAllConfigs', JSON.stringify(configs));
                    this.showToast(`Configuration "${configName}" supprimée.`);
                    this.populateLoadMenu();
                }
            },

            clearConfiguration(silent = false) {
                const doClear = () => {
                    const categoryOrder = ['cpu', 'motherboard', 'ram', 'gpu', 'storage', 'cooling', 'psu', 'case'];
                    categoryOrder.forEach(cat => this.removeComponent(cat));
                    if (!silent) this.showToast('Configuration actuelle vidée.');
                };

                if (silent) {
                    doClear();
                } else if (confirm("Êtes-vous sûr de vouloir vider la configuration actuelle ?")) {
                    doClear();
                }
            },

            populateLoadMenu() {
                const configs = this.getSavedConfigs();
                const configNames = Object.keys(configs);
                const select = document.getElementById('saved-configs-select');
                const loadBtn = document.getElementById('load-config-btn');
                const deleteBtn = document.getElementById('delete-config-btn');
                
                select.innerHTML = '';
                if (configNames.length > 0) {
                    select.style.display = 'inline-block';
                    loadBtn.style.display = 'inline-flex';
                    deleteBtn.style.display = 'inline-flex';
                    select.innerHTML = '<option value="" disabled selected>Charger une config...</option>';
                    configNames.forEach(name => {
                        const option = document.createElement('option');
                        option.value = name;
                        option.textContent = name;
                        select.appendChild(option);
                    });
                } else {
                    select.style.display = 'none';
                    loadBtn.style.display = 'none';
                    deleteBtn.style.display = 'none';
                }
            },

            showToast(message) {
                const toast = document.getElementById('toast-notification');
                toast.textContent = message;
                toast.classList.add('show');
                setTimeout(() => toast.classList.remove('show'), 3000);
            },
            
            initializeCustomSelects() {
                document.querySelectorAll('.custom-select-container').forEach(container => {
                    const originalSelect = container.nextElementSibling;
                    const display = container.querySelector('.custom-select-display');
                    const optionsContainer = container.querySelector('.custom-select-options');
                    const searchInput = container.querySelector('.custom-select-search');

                    // --- Correction : empêcher la fermeture du menu lors du clic sur le champ de recherche ---
                    searchInput.addEventListener('click', (e) => {
                        e.stopPropagation();
                    });

                    Array.from(originalSelect.children).forEach(child => {
                        if (child.tagName === 'OPTGROUP') {
                            const groupDiv = document.createElement('div');
                            groupDiv.className = 'custom-select-optgroup';
                            groupDiv.textContent = child.label;
                            optionsContainer.appendChild(groupDiv);
                            Array.from(child.children).forEach(option => {
                                optionsContainer.appendChild(this.createCustomOption(option, originalSelect));
                            });
                        } else if (child.tagName === 'OPTION' && !child.disabled) {
                            optionsContainer.appendChild(this.createCustomOption(child, originalSelect));
                        }
                    });

                    // Clic pour ouvrir/fermer le menu
                    display.addEventListener('click', (e) => {
                        e.stopPropagation();
                        
                        const parentSection = container.closest('.configurator-section');
                        const wasOpen = container.classList.contains('open');

                        // Réinitialiser le z-index de toutes les sections
                        document.querySelectorAll('.configurator-section').forEach(section => {
                            section.style.zIndex = '';
                        });
                        
                        // Fermer tous les autres menus
                        document.querySelectorAll('.custom-select-container.open').forEach(openContainer => {
                           if (openContainer !== container) openContainer.classList.remove('open');
                        });
                        
                        // Ouvrir ou fermer le menu actuel
                        container.classList.toggle('open');
                        
                        // Augmenter le z-index de la section parente si le menu est ouvert
                        if (!wasOpen && parentSection) {
                            parentSection.style.zIndex = '20';
                        }
                    });
                    
                    searchInput.addEventListener('keyup', () => {
                        const filter = searchInput.value.toLowerCase();
                        optionsContainer.querySelectorAll('.custom-select-option').forEach(optionDiv => {
                           optionDiv.classList.toggle('hidden', !optionDiv.textContent.toLowerCase().includes(filter));
                        });
                    });
                });
                
                // Fermer les menus si on clique en dehors
                document.addEventListener('click', () => {
                    document.querySelectorAll('.custom-select-container.open').forEach(container => container.classList.remove('open'));
                    
                    // Réinitialiser tous les z-index en fermant
                    document.querySelectorAll('.configurator-section').forEach(section => {
                        section.style.zIndex = '';
                    });
                });
            },

            createCustomOption(option, originalSelect) {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'custom-select-option';
                optionDiv.textContent = option.textContent;
                optionDiv.dataset.value = option.value;
                
                optionDiv.addEventListener('click', () => {
                    originalSelect.value = option.value;
                    const changeEvent = new Event('change', { bubbles: true });
                    originalSelect.dispatchEvent(changeEvent);
                    const display = originalSelect.parentElement.querySelector('.custom-select-display');
                    display.textContent = option.textContent;
                });
                return optionDiv;
            }
        };
        configurator.init();
    }
});
    </script>

</body>
</html>